<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aryamik Sharma">
<meta name="dcterms.date" content="2025-04-12">

<title>On Technology and Laziness – Aryamik Sharma</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Aryamik Sharma</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html"> 
<span class="menu-text">Sympatheia</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Disclaimer.html"> 
<span class="menu-text">Disclaimer</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/aryamik-sharma"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:aryamik.sharma@uwaterloo.ca"> <i class="bi bi-envelope" role="img" aria-label="email">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">On Technology and Laziness</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">AI</div>
                <div class="quarto-category">Philosophy</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p><a href="https://aryamik.github.io">Aryamik Sharma</a> </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 12, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>It was middle of a workday and I received a call from my dad.</p>
<p>“Hi, I am applying for my Canadian Tourist Visa and I will need a letter of invitation from you for my application.”</p>
<p>“Why don’t you use ChatGPT to help you draft one? Once it is ready, send it over and I will modify it accordingly.”</p>
<p>“Sounds good, will do”</p>
<p>After I hung up, a strange thought permeated within me. “I have become so lazy these days. Everything is now ‘ChatGPT this, ChatGPT that’. Want a letter of invitation? Sure let’s use ChatGPT for that. Want to summarize a 2000 word essay? Sure, let’s just copy and paste that in ChatGPT and let it do the grunt work.”</p>
<p>It is not that I couldn’t draft a letter of invitation by myself. If this was 2019, way before ChatGPT was a thing, I would have probably spent like 30 minutes looking for a template of a letter of invitation and then modify it for my needs. In fact, IRCC does provide a list of things that need to be included in an letter so it shouldn’t be a big deal.</p>
<p>What concerned me was something about that feeling of atrophying of ‘things that make us human’. Initially, I was thinking of calling this post ‘On AI and Laziness’. But then it occurred to me that this is not a new thing. The laziness argument has been brought up everytime there has been a technological innovation. ChatGPT and AI just happen to be the ‘Current Thing’.</p>
<p>Look at Spellcheck. It has been around for years and has become ingrained as part of our daily lives to a point where we don’t even have to worry about making spelling mistakes. There are a couple of moments when I accidentally misspell something and I am like “I am pretty sure it is Fahrenheit and not Fahrenhiet, but let me double check.” Once the red squiggly lines appear and I auto correct the word, I am like “Oh geez, I can’t even remember basic spellings anymore.”</p>
<p>I am specifically referring to <em>that</em> feeling.</p>
<p>Let’s look at another example - calculators. I am old enough to remember when calculators were prohibited in classrooms. It wasn’t until high school physics that we were allowed to use scientific calculators. The reasoning was that if we used calculators for basic arithmetic, we wouldn’t understand the logic behind it. The goal was to help students develop their reasoning and arithmetic skills. Once the student was able to demonstrate a certain level of proficiency in those skills, only then calculators were introduced. If a student knows how to multiply 456 x 84, then one can assume that the student would be able to handle more complex arithmetic operations. Eventually, we weighed the pros and cons of doing the grunt work when it comes to these arithmetic operations</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Pro</th>
<th>Con</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The student understands the underlying logic of these arithmetic operations and will be comfortable with dealing more advanced problems in the future</td>
<td>Doing complex calculations takes more time and once the underlying logic has been well understood, it results in marginal benefits in terms of skill development</td>
</tr>
</tbody>
</table>
<p>Initially the pro outweighed the con. But gradually we were like “Does it really make sense for Tim to spend 5 minutes solving 506738 x 456435 when he could be spending that time working on something else?”</p>
<p>The last bit of ‘spending time working on something else’ is a defining feature of innovation. The premise behind innovation is that it will help us be a lot more efficient. The argument is it will help us save time, so that we can spend time doing something else. By definition, technology is something that we design that is supposed to help us. Invention of wheel made it easier for our ancestors to move things around. Something that would had taken 2 hours of commute, now took 30 minutes. Industrial Revolution and assembly lines facilitated the same trend. People were now spending less time doing grunt work thanks to machines, which resulted in massive productivity gains.</p>
<p>But then another thought comes to my mind that says “What are we going to do with all that time in the world? Where does this end?”</p>
<p>It reminds me of the bit from The Office where Kevin decides to Small Talk</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_K-L9uhsBLM?si=BYsHf2-b84-udp_H" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
<p>Kevin starts omitting words from his regular speech because “why waste time say lot word when few word do trick?”. He thinks that he will be able to save so much to “see world”. Pam’s response on how this will result in a “microscopic amount of time saved” is exactly how I feel about the “technology will save us time” argument.</p>
<p>Let’s say writing an original letter of invitation without using ChatGPT would had taken me 30 minutes from start to finish. With ChatGPT, I was able to get a final product in 5 minutes. In total, it saved me 25 minutes of grunt work which means I can do something else in those 25 minutes such as do my laundry, clean the dishes, have a call with my friend and so on.</p>
<p>In theory, this line of reasoning sounds about right. But in reality, the difference in time saved is marginal. The thing with current AI systems is that they are not perfect. It’s not that I can realistically expect ChatGPT to produce a perfect letter for me. It will take me a couple of prompts to make the final product tailored to my needs.</p>
<p>So I keep asking myself, “What will I do with those 3 minutes saved by using ChatGPT?”</p>
<p>My argument lies on the assumption that AI systems are always going to stay the same as they are today. In reality, it is more likely that ChatGPT 7.0 is going to superior than what we have today. This means eventually, efficiency gains would be far greater than what we currently have.</p>
<p>To get some clarity, I came up with a hypothetical thought experiment.</p>
<p>Let’s assume sometime in a distant, utopian future where AI is resulting in productivity gains like nothing we have ever witnessed. Virtually all the bottlenecks in our systems have been eliminated. The question is now no longer about reducing inefficiencies but rather about what do we do now that we are more than efficient?</p>
<p>I posed this question to my brother and we had a good discussion about it.</p>
<p>“You live close to work right?”</p>
<p>“Yeah, it takes me 15 minutes to be at my desk.”</p>
<p>“That’s good, right? Now imagine if you had a 30 minute commute everyday.”</p>
<p>“Yeah it wouldn’t be ideal.”</p>
<p>“What do you in those 15 minutes you saved?”</p>
<p>His response left me like:</p>
<p><img src="images/4e3.jpg" class="img-fluid"></p>
<p>It is true that in 24 hours, 15 minutes is a nothingburger yet I still have a strong <em>preference</em> for it.</p>
<p>Let’s say if I have to go get my groceries from the market that is 5 minutes away from where I live. I could simply walk to the market or I can take my car. I am pretty sure most would argue that me taking my car to grab a dozen bananas is me just being lazy. Not only that, but I am being more wasteful with the resources and I am missing out on the opportunity to get my daily steps. But let’s say if I had to travel all the way to New York. Here are my options:</p>
<p><img src="images/clipboard-959789764.png" class="img-fluid"></p>
<p>I could do a 7 day expedition by foot (which would be fun!), rent a bike and pedal my way for 48 hours (which would be a great workout in itself) or simply hop on a plane from Billy Bishop and arrive at JFK in 90 minutes. Now all of a sudden, the consensus would be to take a plane. Suddenly we don’t care about being wasteful or getting our daily steps? I mean I could do that and no one would stop me but ‘common sense’ would dictate that it’s not the wisest thing to do.</p>
<p>How we define laziness in the context of technological innovation is very subjective. It’s the classic ‘glass half-full/half-empty’ scenario. Today’s laziness is tomorrow’s efficiency. It boils down to <em>what makes sense at that point in time.</em> Had this been 19th century, we wouldn’t be having this conversation because commercial planes were not a thing yet. So my only option would had been to walk all the way to New York. In the 21st century, I would come off as a technological luddite if I resist innovation just for the sake of resisting. What changed in these two examples?</p>
<p>We collectively weighed the pros and cons of the two scenarios (going to a local market vs going to New York). The cons of taking a car to a market far outweigh the pros. But when it comes to New York, it is the other way round.</p>
<p>Maybe AI is going to follow a similar trajectory? There may come a point in time, when we as a society collectively decide that the pros of using AI will far outweigh any cons.</p>
<p>But it still doesn’t explain the feelings of atrophy that we have. Maybe there is more to the story.</p>
<p>Josh Waitizkin, one of my favorite individuals and the author of <em>The Art of Learning</em> had some interesting takes on this topic. Recently, he was describing the Elo system used to rank players in the world of chess. Grandmasters like <a href="https://ratings.fide.com/profile/1503014">Magnus Carlsen</a> are rated around 2800. This number dwarfs in comparison to the Elo ratings of some of the more advanced AI systems like <a href="https://www.computerchess.org.uk/ccrl/4040/rating_list_all.html">Stockfish that are around 3700</a>. He believes eventually we will have to deal with the possibility of having 3700 rated ‘everything’. What do we do then?</p>
<p>He thinks that we as humans can’t accept the fact that eventually we won’t be the apex intelligence running things around. He gives an example from Thomas S. Kuhn’s <em>The Structure of Scientific Revolutions.</em> Imagine you are a classic Newtonian physicist. You have spent your entire life working on it. And then suddenly we have a new field of Quantum Mechanics. To embrace this new field, you have to admit to yourself and everyone else that the work you did is outdated. That’s where the ego comes in which manifests in the form of internal resistance we have to overcome to embrace the new paradigm.</p>
<p>This leaves us with two options. We can either continue to resist these changes as they are happening or simply accept the reality that there may come a time in future where AI outsmarts us in everything. As I have mentioned <a href="https://aryamik.github.io/posts/2024-08-24/">before</a>, no one knows if it is going to happen or when its going to happen. But for the sake of argument, let’s assume it does. What do we do then?</p>
<p>Josh says that we will have to cultivate a child-like humility and curiosity towards things. The way I look at it is that we should look for ways to live with these changes rather than being dogmatic about them. Instead of latching on to things, a fundamental question we should be asking is ‘what are we trying to solve?’</p>
<p>Is the goal to be an expert speller or be a great communicator? If Spellcheck allows us to get our ideas across more easily, is it really a bad thing? It’s not that either of those goals are right or wrong. It’s just that the former made sense a while ago and it served its purpose. Now that things have changed, our goals have evolved too.</p>
<p>And maybe we aren’t supposed to figure out what the future is going to look like? Maybe it is just something we will never be able to comprehend. Truth is, technological advancements are so much greater and faster than biological advancements. We are so limited in our ability to evolve that we will always end up playing catch-up with technological innovation. In the book <em>The Nineties</em>, the author Charles Klosterman brings up an interesting idea. If you took a person from 1950 and then dropped them into 1990, it wouldn’t be too hard to explain everything. Tvs, music on discs, computers and phones all existed in the 1950s. But taking a person from 1990 and then plopping them into 2025 would require some serious explanation. Yes, I mean just start with phones. Yes, people still have phones. But most don’t have a home phone anymore. They have this electronic brick that they never let out of their sight which has access to the internet and isn’t used for talking most of the time. Music isn’t on discs much anymore, you stream it on the internet. I could go on, but you get the idea. Our ancestors would be puzzled about this prospect of an interconnected world and maybe that’s what we are currently dealing with right now.</p>
<p>Maybe it is not laziness after all? Maybe it is our tendency to resist change that is really at play here? But isn’t change the only constant? Sometimes, we tend to overlook the good that happens because of these changes. Think of individuals who deal with speech impairment and learning disabilities like dyslexia. While we may be bemoaning the fact that our writing skills are atrophying, advancements in educational technology are offering new ways to bridge accessibility gaps and provide meaningful support for millions of individuals around the world. Shouldn’t we be celebrating this? Isn’t this a net positive for the society? I am sure Utilitarians would argue that if technology results in the greater good, it would make sense to pursue it.</p>
<p>I will part by sharing some Stoic wisdom but then I am reminded me of what Marcus Aurelius had to say about change</p>
<blockquote class="blockquote">
<p>Frightened of change? But what can exist without it?<br>
What’s closer to nature’s heart? Can you take a hot bath and<br>
leave the firewood as it was? Eat food without transforming<br>
it? Can any vital process take place without something being<br>
changed?<br>
<br>
Can’t you see? It’s just the same with you—and just as vital to nature.</p>
</blockquote>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="Aryamik/aryamik.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->




</body></html>