<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aryamik Sharma">
<meta name="dcterms.date" content="2024-10-19">

<title>Aryamik Sharma - Uncertainties in Climate Risk Modelling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Aryamik Sharma</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Sympatheia</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Disclaimer.html" rel="" target="">
 <span class="menu-text">Disclaimer</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/aryamik-sharma" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:aryamik.sharma@uwaterloo.ca" rel="" target=""><i class="bi bi-envelope" role="img" aria-label="email">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Uncertainties in Climate Risk Modelling</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Sustainability</div>
                <div class="quarto-category">Statistics</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p><a href="https://aryamik.github.io">Aryamik Sharma</a> </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 19, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">




<p>Weather forecasts and climate predictions have been a part of human culture since time immemorial. From elaborate rain dance rituals to simulation models, predicting what the weather and climate is going to be in the near future has always been part of human history. 2024 has been the wild west when it comes to extreme weather and climate events. From <a href="https://www.nasa.gov/earth/nasa-finds-summer-2024-hottest-to-date/">record temperatures</a> to <a href="https://www.noaa.gov/news-release/noaa-predicts-above-normal-2024-atlantic-hurricane-season">hurricanes</a> across the globe, we can‚Äôt help but wonder what‚Äôs next? However, our predictions about future events is limited by the element of uncertainty. Consider these exhibits:</p>
<ul>
<li><p>Exhibit A: A while back I was reading <a href="https://archive.ph/Qw8AQ">this</a> amazing deep dive on the nuances of climate risk modelling. In case you have not read it already, I would highly encourage you to take a look at it. The authors looked at two models - one from UC Irvine and one from First Street - showing areas in Los Angeles County that are vulnerable to flooding and found that outputs from the models were ‚Äúnearly polar opposite‚Äù.</p></li>
<li><p>Exhibit B: Earlier <a href="https://archive.ph/buMMU">this summer</a>, Copernicus, EU‚Äôs climate science agency said July was the second hottest month ever recorded. But later, NASA and the US National Oceanic and Atmospheric Administration (NOAA) said August was the world‚Äôs hottest month ever recorded. Granted the two both agencies use different methods for measuring temperature, but it still alludes to the fact that there are discrepancies and uncertainties when it comes to measuring weather patterns and long-term climate.</p></li>
<li><p>Exhibit C: Figuring out the <a href="https://archive.ph/tbr2Q">exact magnitude of extreme events</a> such as Hurricanes Helene and Milton has been an area that forecasters and scientists are still struggling with.</p></li>
<li><p>Exhibit D: The concept of ‚Äúnet zero‚Äù emissions introduced in <a href="https://www.cambridge.org/core/services/aop-cambridge-core/content/view/D7455D42B4C820E706A03A169B1893FA/9781009157957AR.pdf/Global_Warming_of_1_5_C.pdf" title="Special Report on Global Warming of 1.5 ¬∞C">Special Report on Global Warming of 1.5&nbsp;¬∞C (SR15)</a> : ‚ÄúReaching and sustaining net zero global anthropogenic [human-caused] CO<sub>2</sub> emissions and declining net non-CO<sub>2</sub> radiative forcing would halt anthropogenic global warming on multi-decadal timescales <strong>(<em>high confidence</em>).</strong>‚Äù</p></li>
<li><p>Exhibit E: The estimate ‚Äòbands‚Äô in the global greenhouse gas emissions and warming scenarios:</p></li>
</ul>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><a href="https://ourworldindata.org/co2-and-greenhouse-gas-emissions?insight=current-climate-policies-will-reduce-emissions-but-not-enough-to-keep-temperature-rise-below-2c#key-insights"><img src="images/Greenhouse-gas-emission-scenarios_2062.png" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption margin-caption">Global greenhouse gas emissions and warming scenarios. Source: Our World In Data</figcaption>
</figure>
</div>
<p>As we see across these exhibits, forecasts and estimates are not absolute and carry an element of uncertainty. It makes me wonder - wouldn‚Äôt it be nice if there was a way we could accurately predict when the next extreme weather event is going to happen and map out the exact impacts down to a T? Think of all the collateral damage that can be prevented if there was a magic crystal ball that helped us.</p>
<p>Turns out all <strong>measurements</strong> have some degree of uncertainty. As Leonard Smith mentions in the article <a href="https://www.pnas.org/doi/full/10.1073/pnas.012580599#sec-5">‚ÄòWhat might we learn from climate models?‚Äô</a> :</p>
<blockquote class="blockquote">
<p><em>Even in high school physics, we learn that an answer without ‚Äúerror bars‚Äù is no answer at all</em>.</p>
</blockquote>
<p>When we make a measurement, it is based on the assumption that the exact value exists based on how we define what is being measured. We attempt to find this ideal quantity to the best of our ability. However, despite our best efforts, there is always an element of uncertainty introduced in our measurements which may come from a variety of sources such as:</p>
<ul>
<li><p><strong>Failure to account for a factor/input variable</strong></p></li>
<li><p><strong>Instrument resolution</strong></p></li>
<li><p><strong>Calibration</strong></p></li>
<li><p><strong>Parallax</strong></p></li>
<li><p><strong>Instrument drift</strong></p></li>
<li><p><strong>Lag time</strong> and <strong>hysteresis</strong></p></li>
<li><p><strong>Personal errors</strong></p></li>
</ul>
<p>In case you are interested in reading more these errors, do check out <a href="https://www.webassign.net/question_assets/unccolphysmechl1/measurements/manual.html">this chapter</a> on Measurements and Error Analysis by University of North Carolina.</p>
<p>This begs the question - how do we report our findings for our best estimate of this <strong>true value</strong>? From a statistical perspective, the most common way to show the range of values that we believe includes the true value can be represented as</p>
<p><span class="math inline">\(Measurement = Estimate ¬± Uncertainty\)</span></p>
<p>For example, let‚Äôs suppose that we want to measure temperature (denoted as a variable <span class="math inline">\(Y\)</span>) and it is an output of different input factors/variables such as humidity, wind speed, pressure etc (denoted as <span class="math inline">\(X_1, X_2, X_3...X_p\)</span>) and there is some relationship between temperature and the inputs humidity, wind speed, pressure. As a result, the relationship can be denoted as:</p>
<p><span class="math inline">\(Y = f(X) + ùûÆ\)</span></p>
<p>Here <span class="math inline">\(f\)</span> is some fixed but unknown function of <span class="math inline">\(X_1, X_2, X_3\)</span> and ùûÆ is a random error term, which is independent of <span class="math inline">\(X\)</span> and has mean zero. As noted in <a href="file:///home/aryamik/Downloads/ISLP_website.pdf">Introduction to Statistical Learning</a>:</p>
<blockquote class="blockquote">
<p>The accuracy of <span class="math inline">\(≈∂\)</span> as a prediction for <span class="math inline">\(Y\)</span> depends on two quantities, which we will call the reducible error and the irreducible error. In general, reducible <span class="math inline">\(\hat{f}\)</span> will not be a perfect estimate for <span class="math inline">\(\hat{f}\)</span> , and this inaccuracy will introduce error some error. This error is reducible because we can potentially improve the irreducible accuracy of <span class="math inline">\(\hat{f}\)</span> by using the most appropriate statistical learning technique to error estimate . However, even if it were possible to form a perfect estimate for <span class="math inline">\(f\)</span> , so that our estimated response took the form <span class="math inline">\(≈∂ = f(X)\)</span>, our prediction would still have some error in it! This is because <span class="math inline">\(Y\)</span> is also a function of ùûÆ, which, by definition, cannot be predicted using <span class="math inline">\(X\)</span>. Therefore, variability associated with ùûÆ also affects the accuracy of our predictions. This is known as the irreducible error, because no matter how well we estimate <span class="math inline">\(f\)</span> is , we cannot reduce the error introduced by ùûÆ.</p>
</blockquote>
<p>In other words, the irreducible error will always provide an upper bound on the accuracy of our prediction for temperature and the reality is that the bound is almost always unknown in practice.</p>
<p>Keep in mind that that predicting weather events and climate is a lot more complicated than a simple linear function as illustrated above. While it is true that over the past few decades we have made strides in quantitatively determining the extent to which climate change played a role in an extreme event, there is still so much we don‚Äôt know about them. Turns out the Earth‚Äôs climate system is <a href="https://www.hoover.org/research/flawed-climate-models">incredibly complex, involving interactions between multiple non-linear systems (including anthropogenic) at play</a>. Then there are measurement errors that are introduced when recording these variables. <a href="https://www.jstor.org/stable/43735017?seq=1#page_scan_tab_contents">Work</a> by Patrick Frank at the Stanford Synchrotron Radiation Lightsource (SSRL), has shown that the errors in temperatures recorded by weather stations have been incorrectly handled. Additionally, pretty much all the climate models rely on assumptions and simplifications which can further add uncertainties in the equation.</p>
<p>It is also worth noting that climate risk is a <a href="https://www.ipcc.ch/site/assets/uploads/2018/03/SREX-Chap2_FINAL-1.pdf">function of hazard, exposure and vulnerability</a>.</p>
<p><span class="math inline">\(Climate Risk = f(Hazard, Exposure, Vulnerability)\)</span></p>
<p>where</p>
<ul>
<li><p>Hazard refers to the possible, future occurrence of natural or human-induced physical events that may have adverse effects on vulnerable and exposed elements;</p></li>
<li><p>Exposure refers to the inventory of elements in an area in which hazard events may occur;</p></li>
<li><p>Vulnerability refers to the propensity of exposed elements such as human beings, their livelihoods, and assets to suffer adverse effects when impacted by hazard events</p></li>
</ul>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><a href="https://www.ipcc.ch/report/managing-the-risks-of-extreme-events-and-disasters-to-advance-climate-change-adaptation/climate-change-new-dimensions-in-disaster-risk-exposure-vulnerability-and-resilience/"><img src="images/Fig1-1.jpg" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption margin-caption">Climate Risk as a function of Hazard, Exposure and Vulnerability. Source: Managing the Risks of Extreme Events and Disasters to Advance Climate Change Adaptation</figcaption>
</figure>
</div>
<p>So now not only does one has to factor the probability of these hazards, but also the estimates for exposure and vulnerability which further adds new complexities.</p>
<p>Ultimately, this excerpt from the deep dive done by Roston et al.&nbsp;(2024) on climate risk models nicely sums up the nuances of climate risk modelling:</p>
<blockquote class="blockquote">
<p>Understanding climate risk is a bit like taking a vision test at the eye doctor. At the largest scale ‚Äî the big ‚ÄúE‚Äù at the top of the chart, or the whole globe ‚Äî the signs are the clearest. Refined by scientists over decades, climate models have proved very reliable at what they were designed to do, projecting the global effects of rising greenhouse gases.</p>
<p>But at progressively smaller scales and over longer time horizons ‚Äî as the characters on the eye chart shrink ‚Äî clarity gives way to fuzziness: You‚Äôre sure it‚Äôs a letter, just not which one. Climate models can be like that. They are simply better at projecting averages than extremes. Outlier events, like 1-in-100-year storms, are still hard to predict.</p>
</blockquote>
<p>It is well known that climate models are not <a href="https://www.hoover.org/research/flawed-climate-models">‚Äúplug and chug‚Äù</a>. At the end of the day, they are simply tools that are used in conjunction with other tools like risk assessments, scenario analysis, computer simulations for decision making purposes. There is work being done to improve these existing processes and reduce the element of uncertainty in climate risk modelling. For instance, many startups like <a href="https://archive.ph/E2a5X">Brightband</a> are leveraging machine learning algorithms to predict the behavior of extreme weather events. Maybe we are not that far away from creating a holy grail of climate risk modelling where we can map out the impacts to a T. But until then, it looks like uncertainties are here to stay with our predictions.</p>
<p>To wrap things up, I would like to leave this quote by Yogi Berra that I read in An Introduction to Statistical Learning</p>
<blockquote class="blockquote">
<p>It‚Äôs tough to make predictions, especially about the future.</p>
</blockquote>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><a href="https://xkcd.com/1985/"><img src="images/meteorologist.png" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption margin-caption">Metereologist. Souce XKCD Comic #1985</figcaption>
</figure>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="Aryamik/aryamik.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>